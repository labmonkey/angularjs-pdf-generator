(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(n,l,u){n.exports=u("zUnb")},zUnb:function(n,l,u){"use strict";u.r(l);var t=u("8Y7J");class e{constructor(n){this.sanitizer=n}transform(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}}class o{}class i{constructor(){this.title="pdf-generator"}ngOnInit(){}}var r=u("s7LF");class a{constructor(n,l,u,t){this.name=n,this.price=l,this.discount=u,this.amount=t}}class s{constructor(n){this.dataService=n,this.model=new a("Glasses",150,20,10)}ngOnInit(){this.dataService.currentModel.subscribe(n=>this.model=n)}get diagnostic(){return JSON.stringify(this.model)}onSubmit(){this.dataService.changeModel(this.model)}}var c=u("2Vo4");let d=(()=>{class n{constructor(){this.messageSource=new c.a(new a(null,null,null,null)),this.currentModel=this.messageSource.asObservable()}changeModel(n){this.messageSource.next(n)}}return n.ngInjectableDef=t.zb({factory:function(){return new n},token:n,providedIn:"root"}),n})();var b=t.bb({encapsulation:0,styles:[[""]],data:{}});function g(n){return t.vb(0,[t.rb(671088640,1,{ngForm:0}),(n()(),t.db(1,0,null,null,51,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.db(2,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var e=!0,o=n.component;return"submit"===l&&(e=!1!==t.nb(n,4).onSubmit(u)&&e),"reset"===l&&(e=!1!==t.nb(n,4).onReset()&&e),"ngSubmit"===l&&(e=!1!==o.onSubmit()&&e),e}),null,null)),t.cb(3,16384,null,0,r.q,[],null,null),t.cb(4,4210688,[[1,4],["documentForm",4]],0,r.k,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.qb(2048,null,r.b,null,[r.k]),t.cb(6,16384,null,0,r.j,[[4,r.b]],null,null),(n()(),t.db(7,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t.db(8,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(n()(),t.tb(-1,null,["Nazwa"])),(n()(),t.db(10,0,null,null,7,"input",[["class","form-control"],["id","name"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var e=!0,o=n.component;return"input"===l&&(e=!1!==t.nb(n,11)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t.nb(n,11).onTouched()&&e),"compositionstart"===l&&(e=!1!==t.nb(n,11)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t.nb(n,11)._compositionEnd(u.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.model.name=u)&&e),e}),null,null)),t.cb(11,16384,null,0,r.c,[t.v,t.h,[2,r.a]],null,null),t.cb(12,16384,null,0,r.n,[],{required:[0,"required"]},null),t.qb(1024,null,r.f,(function(n){return[n]}),[r.n]),t.qb(1024,null,r.g,(function(n){return[n]}),[r.c]),t.cb(15,671744,null,0,r.l,[[2,r.b],[6,r.f],[8,null],[6,r.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.qb(2048,null,r.h,null,[r.l]),t.cb(17,16384,null,0,r.i,[[4,r.h]],null,null),(n()(),t.db(18,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t.db(19,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(n()(),t.tb(-1,null,["Cena oprawy"])),(n()(),t.db(21,0,null,null,7,"input",[["class","form-control"],["id","price"],["name","price"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var e=!0,o=n.component;return"input"===l&&(e=!1!==t.nb(n,22)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t.nb(n,22).onTouched()&&e),"compositionstart"===l&&(e=!1!==t.nb(n,22)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t.nb(n,22)._compositionEnd(u.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.model.price=u)&&e),e}),null,null)),t.cb(22,16384,null,0,r.c,[t.v,t.h,[2,r.a]],null,null),t.cb(23,16384,null,0,r.n,[],{required:[0,"required"]},null),t.qb(1024,null,r.f,(function(n){return[n]}),[r.n]),t.qb(1024,null,r.g,(function(n){return[n]}),[r.c]),t.cb(26,671744,null,0,r.l,[[2,r.b],[6,r.f],[8,null],[6,r.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.qb(2048,null,r.h,null,[r.l]),t.cb(28,16384,null,0,r.i,[[4,r.h]],null,null),(n()(),t.db(29,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t.db(30,0,null,null,1,"label",[["for","discount"]],null,null,null,null,null)),(n()(),t.tb(-1,null,["Wielko\u015b\u0107 zni\u017cki"])),(n()(),t.db(32,0,null,null,7,"input",[["class","form-control"],["id","discount"],["name","discount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var e=!0,o=n.component;return"input"===l&&(e=!1!==t.nb(n,33)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t.nb(n,33).onTouched()&&e),"compositionstart"===l&&(e=!1!==t.nb(n,33)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t.nb(n,33)._compositionEnd(u.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.model.discount=u)&&e),e}),null,null)),t.cb(33,16384,null,0,r.c,[t.v,t.h,[2,r.a]],null,null),t.cb(34,16384,null,0,r.n,[],{required:[0,"required"]},null),t.qb(1024,null,r.f,(function(n){return[n]}),[r.n]),t.qb(1024,null,r.g,(function(n){return[n]}),[r.c]),t.cb(37,671744,null,0,r.l,[[2,r.b],[6,r.f],[8,null],[6,r.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.qb(2048,null,r.h,null,[r.l]),t.cb(39,16384,null,0,r.i,[[4,r.h]],null,null),(n()(),t.db(40,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t.db(41,0,null,null,1,"label",[["for","amount"]],null,null,null,null,null)),(n()(),t.tb(-1,null,["Ilo\u015b\u0107 naklejek"])),(n()(),t.db(43,0,null,null,7,"input",[["class","form-control"],["id","amount"],["name","amount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var e=!0,o=n.component;return"input"===l&&(e=!1!==t.nb(n,44)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t.nb(n,44).onTouched()&&e),"compositionstart"===l&&(e=!1!==t.nb(n,44)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t.nb(n,44)._compositionEnd(u.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.model.amount=u)&&e),e}),null,null)),t.cb(44,16384,null,0,r.c,[t.v,t.h,[2,r.a]],null,null),t.cb(45,16384,null,0,r.n,[],{required:[0,"required"]},null),t.qb(1024,null,r.f,(function(n){return[n]}),[r.n]),t.qb(1024,null,r.g,(function(n){return[n]}),[r.c]),t.cb(48,671744,null,0,r.l,[[2,r.b],[6,r.f],[8,null],[6,r.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.qb(2048,null,r.h,null,[r.l]),t.cb(50,16384,null,0,r.i,[[4,r.h]],null,null),(n()(),t.db(51,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(n()(),t.tb(-1,null,["Generuj Dokument"]))],(function(n,l){var u=l.component;n(l,12,0,""),n(l,15,0,"name",u.model.name),n(l,23,0,""),n(l,26,0,"price",u.model.price),n(l,34,0,""),n(l,37,0,"discount",u.model.discount),n(l,45,0,""),n(l,48,0,"amount",u.model.amount)}),(function(n,l){n(l,2,0,t.nb(l,6).ngClassUntouched,t.nb(l,6).ngClassTouched,t.nb(l,6).ngClassPristine,t.nb(l,6).ngClassDirty,t.nb(l,6).ngClassValid,t.nb(l,6).ngClassInvalid,t.nb(l,6).ngClassPending),n(l,10,0,t.nb(l,12).required?"":null,t.nb(l,17).ngClassUntouched,t.nb(l,17).ngClassTouched,t.nb(l,17).ngClassPristine,t.nb(l,17).ngClassDirty,t.nb(l,17).ngClassValid,t.nb(l,17).ngClassInvalid,t.nb(l,17).ngClassPending),n(l,21,0,t.nb(l,23).required?"":null,t.nb(l,28).ngClassUntouched,t.nb(l,28).ngClassTouched,t.nb(l,28).ngClassPristine,t.nb(l,28).ngClassDirty,t.nb(l,28).ngClassValid,t.nb(l,28).ngClassInvalid,t.nb(l,28).ngClassPending),n(l,32,0,t.nb(l,34).required?"":null,t.nb(l,39).ngClassUntouched,t.nb(l,39).ngClassTouched,t.nb(l,39).ngClassPristine,t.nb(l,39).ngClassDirty,t.nb(l,39).ngClassValid,t.nb(l,39).ngClassInvalid,t.nb(l,39).ngClassPending),n(l,43,0,t.nb(l,45).required?"":null,t.nb(l,50).ngClassUntouched,t.nb(l,50).ngClassTouched,t.nb(l,50).ngClassPristine,t.nb(l,50).ngClassDirty,t.nb(l,50).ngClassValid,t.nb(l,50).ngClassInvalid,t.nb(l,50).ngClassPending)}))}var m=u("cUpR"),p=u("5JmO"),h=u.n(p),f=u("TruH");h.a.vfs=u.n(f).a.pdfMake.vfs;class v{constructor(n){this.dataService=n}ngOnInit(){this.dataService.currentModel.subscribe(n=>this.onDocumentFormChange(n)),this.updatePdfDocument(new a("Name",10,10,10))}onDocumentFormChange(n){console.log("hello",n),this.updatePdfDocument(n)}updatePdfDocument(n){let l=new C(12,29);l.addCell({table:{heights:[3*2.83466667,7*2.83466667],widths:[23.683611110083334,23.683611110083334],body:[[{text:n.name,colSpan:2,fontSize:8,alignment:"center"},{}],[{},{}]]},layout:"noBorders"});for(let o=0;o<n.amount;o++)l.addCell({table:{heights:[3*2.83466667,7*2.83466667],widths:["*","*"],body:[[{text:n.price+" z\u0142",fontSize:8,decoration:"lineThrough",alignment:"center"},{text:n.discount+"%",fontSize:8,alignment:"center"}],[{text:this.calculatePriceAfterDiscount(n.price,n.discount)+" z\u0142",colSpan:2,fontSize:12,bold:!0,alignment:"center",margin:[0,2,0,0]},{}]]},margin:0,layout:"noBorders"});for(var u=[],t=0;t<12;t++)u.push(47.36722222016667);var e={pageSize:"A4",pageMargins:7.086666675,defaultStyle:{margin:0},content:[{table:{heights:28.346666699999997,widths:u,body:l.buildTable(),margin:0},layout:{hLineWidth:function(n,l){return 1},vLineWidth:function(n,l){return 1},paddingLeft:function(n,l){return 0},paddingRight:function(n,l){return 0},paddingTop:function(n,l){return 0},paddingBottom:function(n,l){return 0}}}]};h.a.createPdf(e).getDataUrl(n=>{this.pdfUrl=n})}calculatePriceAfterDiscount(n,l){return n-n*l/100}}class C{constructor(n,l){this.cells=[],this.columns=n,this.rows=l,this.content=new Array(l).fill({}).map(()=>Array(n).fill({}))}addCell(n){this.cells.push(n)}buildTable(){let n=0,l=0;for(let u=0;u<this.cells.length;u++)this.content[l][n]=this.cells[u],++n>=this.columns&&(n=0,l++);return this.content}}var y=t.bb({encapsulation:0,styles:[[".expand[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]],data:{}});function q(n){return t.vb(0,[t.ob(0,e,[m.b]),(n()(),t.db(1,0,null,null,1,"iframe",[["class","expand"]],[[8,"src",5]],null,null,null,null)),t.pb(2,1)],null,(function(n,l){var u=l.component,e=t.ub(l,1,0,n(l,2,0,t.nb(l,0),u.pdfUrl));n(l,1,0,e)}))}var S=t.bb({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:0;bottom:0}.content[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{position:absolute;top:0;right:50%;bottom:0;left:0}.content[_ngcontent-%COMP%]   .document[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:50%;width:50%;height:100%}.expand[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]],data:{}});function M(n){return t.vb(0,[(n()(),t.db(0,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(n()(),t.db(1,0,null,null,2,"div",[["class","forms"]],null,null,null,null,null)),(n()(),t.db(2,0,null,null,1,"app-document-form",[],null,null,null,g,b)),t.cb(3,114688,null,0,s,[d],null,null),(n()(),t.db(4,0,null,null,2,"div",[["class","document"]],null,null,null,null,null)),(n()(),t.db(5,0,null,null,1,"app-pdf-container",[["class","expand"]],null,null,null,q,y)),t.cb(6,114688,null,0,v,[d],null,null)],(function(n,l){n(l,3,0),n(l,6,0)}),null)}function w(n){return t.vb(0,[(n()(),t.db(0,0,null,null,1,"app-root",[],null,null,null,M,S)),t.cb(1,114688,null,0,i,[],null,null)],(function(n,l){n(l,1,0)}),null)}var P=t.Z("app-root",i,w,{},{},[]),_=u("SVse"),D=t.ab(o,[i],(function(n){return t.lb([t.mb(512,t.g,t.M,[[8,[P]],[3,t.g],t.p]),t.mb(5120,t.o,t.X,[[3,t.o]]),t.mb(4608,_.d,_.c,[t.o,[2,_.h]]),t.mb(5120,t.T,t.Y,[t.r]),t.mb(4608,t.f,t.f,[]),t.mb(5120,t.a,t.U,[]),t.mb(5120,t.m,t.V,[]),t.mb(5120,t.n,t.W,[]),t.mb(4608,m.b,m.k,[_.b]),t.mb(6144,t.y,null,[m.b]),t.mb(4608,m.e,m.g,[]),t.mb(5120,m.c,(function(n,l,u,t,e,o,i,r){return[new m.i(n,l,u),new m.n(t),new m.m(e,o,i,r)]}),[_.b,t.r,t.t,_.b,_.b,m.e,t.N,[2,m.f]]),t.mb(4608,m.d,m.d,[m.c,t.r]),t.mb(135680,m.l,m.l,[_.b]),t.mb(4608,m.j,m.j,[m.d,m.l,t.a]),t.mb(6144,t.w,null,[m.j]),t.mb(6144,m.o,null,[m.l]),t.mb(4608,t.A,t.A,[t.r]),t.mb(4608,r.p,r.p,[]),t.mb(4608,r.d,r.d,[]),t.mb(1073742336,_.a,_.a,[]),t.mb(1024,t.i,m.p,[]),t.mb(1024,t.b,(function(n){return[m.q(n)]}),[[2,t.q]]),t.mb(512,t.c,t.c,[[2,t.b]]),t.mb(131584,t.e,t.e,[t.r,t.N,t.l,t.i,t.g,t.c]),t.mb(1073742336,t.d,t.d,[t.e]),t.mb(1073742336,m.a,m.a,[[3,m.a]]),t.mb(1073742336,r.o,r.o,[]),t.mb(1073742336,r.e,r.e,[]),t.mb(1073742336,r.m,r.m,[]),t.mb(1073742336,o,o,[]),t.mb(256,t.L,!0,[])])}));Object(t.F)(),m.h().bootstrapModuleFactory(D).catch(n=>console.error(n))},zn8P:function(n,l){function u(n){return Promise.resolve().then((function(){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}))}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id="zn8P"}},[[0,0,5]]]);