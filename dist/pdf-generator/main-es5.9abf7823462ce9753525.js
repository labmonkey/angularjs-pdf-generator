(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(n,l,u){n.exports=u("zUnb")},zUnb:function(n,l,u){"use strict";u.r(l);var t,e=u("8Y7J"),o=function(){function n(n){this.sanitizer=n}return n.prototype.transform=function(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)},n}(),i=function(){},r=function(){function n(){this.title="pdf-generator"}return n.prototype.ngOnInit=function(){},n}(),a=u("s7LF"),c=function(n,l,u,t){this.name=n,this.price=l,this.discount=u,this.amount=t},s=function(){function n(n){this.dataService=n,this.model=new c("Glasses",150,20,10)}return n.prototype.ngOnInit=function(){var n=this;this.dataService.currentModel.subscribe((function(l){return n.model=l}))},Object.defineProperty(n.prototype,"diagnostic",{get:function(){return JSON.stringify(this.model)},enumerable:!0,configurable:!0}),n.prototype.onSubmit=function(){this.dataService.changeModel(this.model)},n}(),d=u("2Vo4"),b=((t=function(){function n(){this.messageSource=new d.a(new c(null,null,null,null)),this.currentModel=this.messageSource.asObservable()}return n.prototype.changeModel=function(n){this.messageSource.next(n)},n}()).ngInjectableDef=e.zb({factory:function(){return new t},token:t,providedIn:"root"}),t),g=e.bb({encapsulation:0,styles:[[""]],data:{}});function m(n){return e.vb(0,[e.rb(671088640,1,{ngForm:0}),(n()(),e.db(1,0,null,null,51,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.db(2,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var t=!0,o=n.component;return"submit"===l&&(t=!1!==e.nb(n,4).onSubmit(u)&&t),"reset"===l&&(t=!1!==e.nb(n,4).onReset()&&t),"ngSubmit"===l&&(t=!1!==o.onSubmit()&&t),t}),null,null)),e.cb(3,16384,null,0,a.q,[],null,null),e.cb(4,4210688,[[1,4],["documentForm",4]],0,a.k,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),e.qb(2048,null,a.b,null,[a.k]),e.cb(6,16384,null,0,a.j,[[4,a.b]],null,null),(n()(),e.db(7,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.db(8,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(n()(),e.tb(-1,null,["Nazwa"])),(n()(),e.db(10,0,null,null,7,"input",[["class","form-control"],["id","name"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var t=!0,o=n.component;return"input"===l&&(t=!1!==e.nb(n,11)._handleInput(u.target.value)&&t),"blur"===l&&(t=!1!==e.nb(n,11).onTouched()&&t),"compositionstart"===l&&(t=!1!==e.nb(n,11)._compositionStart()&&t),"compositionend"===l&&(t=!1!==e.nb(n,11)._compositionEnd(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.model.name=u)&&t),t}),null,null)),e.cb(11,16384,null,0,a.c,[e.v,e.h,[2,a.a]],null,null),e.cb(12,16384,null,0,a.n,[],{required:[0,"required"]},null),e.qb(1024,null,a.f,(function(n){return[n]}),[a.n]),e.qb(1024,null,a.g,(function(n){return[n]}),[a.c]),e.cb(15,671744,null,0,a.l,[[2,a.b],[6,a.f],[8,null],[6,a.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.qb(2048,null,a.h,null,[a.l]),e.cb(17,16384,null,0,a.i,[[4,a.h]],null,null),(n()(),e.db(18,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.db(19,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(n()(),e.tb(-1,null,["Cena oprawy"])),(n()(),e.db(21,0,null,null,7,"input",[["class","form-control"],["id","price"],["name","price"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var t=!0,o=n.component;return"input"===l&&(t=!1!==e.nb(n,22)._handleInput(u.target.value)&&t),"blur"===l&&(t=!1!==e.nb(n,22).onTouched()&&t),"compositionstart"===l&&(t=!1!==e.nb(n,22)._compositionStart()&&t),"compositionend"===l&&(t=!1!==e.nb(n,22)._compositionEnd(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.model.price=u)&&t),t}),null,null)),e.cb(22,16384,null,0,a.c,[e.v,e.h,[2,a.a]],null,null),e.cb(23,16384,null,0,a.n,[],{required:[0,"required"]},null),e.qb(1024,null,a.f,(function(n){return[n]}),[a.n]),e.qb(1024,null,a.g,(function(n){return[n]}),[a.c]),e.cb(26,671744,null,0,a.l,[[2,a.b],[6,a.f],[8,null],[6,a.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.qb(2048,null,a.h,null,[a.l]),e.cb(28,16384,null,0,a.i,[[4,a.h]],null,null),(n()(),e.db(29,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.db(30,0,null,null,1,"label",[["for","discount"]],null,null,null,null,null)),(n()(),e.tb(-1,null,["Wielko\u015b\u0107 zni\u017cki"])),(n()(),e.db(32,0,null,null,7,"input",[["class","form-control"],["id","discount"],["name","discount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var t=!0,o=n.component;return"input"===l&&(t=!1!==e.nb(n,33)._handleInput(u.target.value)&&t),"blur"===l&&(t=!1!==e.nb(n,33).onTouched()&&t),"compositionstart"===l&&(t=!1!==e.nb(n,33)._compositionStart()&&t),"compositionend"===l&&(t=!1!==e.nb(n,33)._compositionEnd(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.model.discount=u)&&t),t}),null,null)),e.cb(33,16384,null,0,a.c,[e.v,e.h,[2,a.a]],null,null),e.cb(34,16384,null,0,a.n,[],{required:[0,"required"]},null),e.qb(1024,null,a.f,(function(n){return[n]}),[a.n]),e.qb(1024,null,a.g,(function(n){return[n]}),[a.c]),e.cb(37,671744,null,0,a.l,[[2,a.b],[6,a.f],[8,null],[6,a.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.qb(2048,null,a.h,null,[a.l]),e.cb(39,16384,null,0,a.i,[[4,a.h]],null,null),(n()(),e.db(40,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.db(41,0,null,null,1,"label",[["for","amount"]],null,null,null,null,null)),(n()(),e.tb(-1,null,["Ilo\u015b\u0107 naklejek"])),(n()(),e.db(43,0,null,null,7,"input",[["class","form-control"],["id","amount"],["name","amount"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,u){var t=!0,o=n.component;return"input"===l&&(t=!1!==e.nb(n,44)._handleInput(u.target.value)&&t),"blur"===l&&(t=!1!==e.nb(n,44).onTouched()&&t),"compositionstart"===l&&(t=!1!==e.nb(n,44)._compositionStart()&&t),"compositionend"===l&&(t=!1!==e.nb(n,44)._compositionEnd(u.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.model.amount=u)&&t),t}),null,null)),e.cb(44,16384,null,0,a.c,[e.v,e.h,[2,a.a]],null,null),e.cb(45,16384,null,0,a.n,[],{required:[0,"required"]},null),e.qb(1024,null,a.f,(function(n){return[n]}),[a.n]),e.qb(1024,null,a.g,(function(n){return[n]}),[a.c]),e.cb(48,671744,null,0,a.l,[[2,a.b],[6,a.f],[8,null],[6,a.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.qb(2048,null,a.h,null,[a.l]),e.cb(50,16384,null,0,a.i,[[4,a.h]],null,null),(n()(),e.db(51,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(n()(),e.tb(-1,null,["Generuj Dokument"]))],(function(n,l){var u=l.component;n(l,12,0,""),n(l,15,0,"name",u.model.name),n(l,23,0,""),n(l,26,0,"price",u.model.price),n(l,34,0,""),n(l,37,0,"discount",u.model.discount),n(l,45,0,""),n(l,48,0,"amount",u.model.amount)}),(function(n,l){n(l,2,0,e.nb(l,6).ngClassUntouched,e.nb(l,6).ngClassTouched,e.nb(l,6).ngClassPristine,e.nb(l,6).ngClassDirty,e.nb(l,6).ngClassValid,e.nb(l,6).ngClassInvalid,e.nb(l,6).ngClassPending),n(l,10,0,e.nb(l,12).required?"":null,e.nb(l,17).ngClassUntouched,e.nb(l,17).ngClassTouched,e.nb(l,17).ngClassPristine,e.nb(l,17).ngClassDirty,e.nb(l,17).ngClassValid,e.nb(l,17).ngClassInvalid,e.nb(l,17).ngClassPending),n(l,21,0,e.nb(l,23).required?"":null,e.nb(l,28).ngClassUntouched,e.nb(l,28).ngClassTouched,e.nb(l,28).ngClassPristine,e.nb(l,28).ngClassDirty,e.nb(l,28).ngClassValid,e.nb(l,28).ngClassInvalid,e.nb(l,28).ngClassPending),n(l,32,0,e.nb(l,34).required?"":null,e.nb(l,39).ngClassUntouched,e.nb(l,39).ngClassTouched,e.nb(l,39).ngClassPristine,e.nb(l,39).ngClassDirty,e.nb(l,39).ngClassValid,e.nb(l,39).ngClassInvalid,e.nb(l,39).ngClassPending),n(l,43,0,e.nb(l,45).required?"":null,e.nb(l,50).ngClassUntouched,e.nb(l,50).ngClassTouched,e.nb(l,50).ngClassPristine,e.nb(l,50).ngClassDirty,e.nb(l,50).ngClassValid,e.nb(l,50).ngClassInvalid,e.nb(l,50).ngClassPending)}))}var p=u("cUpR"),f=u("5JmO"),h=u.n(f),v=u("TruH");h.a.vfs=u.n(v).a.pdfMake.vfs;var C=function(){function n(n){this.dataService=n}return n.prototype.ngOnInit=function(){var n=this;this.dataService.currentModel.subscribe((function(l){return n.onDocumentFormChange(l)})),this.updatePdfDocument(new c("Name",10,10,10))},n.prototype.onDocumentFormChange=function(n){console.log("hello",n),this.updatePdfDocument(n)},n.prototype.updatePdfDocument=function(n){var l=this,u=new y(12,29);u.addCell({table:{heights:[3*2.83466667,7*2.83466667],widths:[23.683611110083334,23.683611110083334],body:[[{text:n.name,colSpan:2,fontSize:8,alignment:"center"},{}],[{},{}]]},layout:"noBorders"});for(var t=0;t<n.amount;t++)u.addCell({table:{heights:[3*2.83466667,7*2.83466667],widths:["*","*"],body:[[{text:n.price+" z\u0142",fontSize:8,decoration:"lineThrough",alignment:"center"},{text:n.discount+"%",fontSize:8,alignment:"center"}],[{text:this.calculatePriceAfterDiscount(n.price,n.discount)+" z\u0142",colSpan:2,fontSize:12,bold:!0,alignment:"center",margin:[0,2,0,0]},{}]]},margin:0,layout:"noBorders"});for(var e=[],o=0;o<12;o++)e.push(47.36722222016667);var i={pageSize:"A4",pageMargins:7.086666675,defaultStyle:{margin:0},content:[{table:{heights:28.346666699999997,widths:e,body:u.buildTable(),margin:0},layout:{hLineWidth:function(n,l){return 1},vLineWidth:function(n,l){return 1},paddingLeft:function(n,l){return 0},paddingRight:function(n,l){return 0},paddingTop:function(n,l){return 0},paddingBottom:function(n,l){return 0}}}]};h.a.createPdf(i).getDataUrl((function(n){l.pdfUrl=n}))},n.prototype.calculatePriceAfterDiscount=function(n,l){return n-n*l/100},n}(),y=function(){function n(n,l){this.cells=[],this.columns=n,this.rows=l,this.content=new Array(l).fill({}).map((function(){return Array(n).fill({})}))}return n.prototype.addCell=function(n){this.cells.push(n)},n.prototype.buildTable=function(){for(var n=0,l=0,u=0;u<this.cells.length;u++)this.content[l][n]=this.cells[u],++n>=this.columns&&(n=0,l++);return this.content},n}(),q=e.bb({encapsulation:0,styles:[[".expand[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]],data:{}});function S(n){return e.vb(0,[e.ob(0,o,[p.b]),(n()(),e.db(1,0,null,null,1,"iframe",[["class","expand"]],[[8,"src",5]],null,null,null,null)),e.pb(2,1)],null,(function(n,l){var u=l.component,t=e.ub(l,1,0,n(l,2,0,e.nb(l,0),u.pdfUrl));n(l,1,0,t)}))}var M=e.bb({encapsulation:0,styles:[[".content[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:0;bottom:0}.content[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{position:absolute;top:0;right:50%;bottom:0;left:0}.content[_ngcontent-%COMP%]   .document[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:50%;width:50%;height:100%}.expand[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]],data:{}});function w(n){return e.vb(0,[(n()(),e.db(0,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.db(1,0,null,null,2,"div",[["class","forms"]],null,null,null,null,null)),(n()(),e.db(2,0,null,null,1,"app-document-form",[],null,null,null,m,g)),e.cb(3,114688,null,0,s,[b],null,null),(n()(),e.db(4,0,null,null,2,"div",[["class","document"]],null,null,null,null,null)),(n()(),e.db(5,0,null,null,1,"app-pdf-container",[["class","expand"]],null,null,null,S,q)),e.cb(6,114688,null,0,C,[b],null,null)],(function(n,l){n(l,3,0),n(l,6,0)}),null)}var P=e.Z("app-root",r,(function(n){return e.vb(0,[(n()(),e.db(0,0,null,null,1,"app-root",[],null,null,null,w,M)),e.cb(1,114688,null,0,r,[],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),_=u("SVse"),O=e.ab(i,[r],(function(n){return e.lb([e.mb(512,e.g,e.M,[[8,[P]],[3,e.g],e.p]),e.mb(5120,e.o,e.X,[[3,e.o]]),e.mb(4608,_.d,_.c,[e.o,[2,_.h]]),e.mb(5120,e.T,e.Y,[e.r]),e.mb(4608,e.f,e.f,[]),e.mb(5120,e.a,e.U,[]),e.mb(5120,e.m,e.V,[]),e.mb(5120,e.n,e.W,[]),e.mb(4608,p.b,p.k,[_.b]),e.mb(6144,e.y,null,[p.b]),e.mb(4608,p.e,p.g,[]),e.mb(5120,p.c,(function(n,l,u,t,e,o,i,r){return[new p.i(n,l,u),new p.n(t),new p.m(e,o,i,r)]}),[_.b,e.r,e.t,_.b,_.b,p.e,e.N,[2,p.f]]),e.mb(4608,p.d,p.d,[p.c,e.r]),e.mb(135680,p.l,p.l,[_.b]),e.mb(4608,p.j,p.j,[p.d,p.l,e.a]),e.mb(6144,e.w,null,[p.j]),e.mb(6144,p.o,null,[p.l]),e.mb(4608,e.A,e.A,[e.r]),e.mb(4608,a.p,a.p,[]),e.mb(4608,a.d,a.d,[]),e.mb(1073742336,_.a,_.a,[]),e.mb(1024,e.i,p.p,[]),e.mb(1024,e.b,(function(n){return[p.q(n)]}),[[2,e.q]]),e.mb(512,e.c,e.c,[[2,e.b]]),e.mb(131584,e.e,e.e,[e.r,e.N,e.l,e.i,e.g,e.c]),e.mb(1073742336,e.d,e.d,[e.e]),e.mb(1073742336,p.a,p.a,[[3,p.a]]),e.mb(1073742336,a.o,a.o,[]),e.mb(1073742336,a.e,a.e,[]),e.mb(1073742336,a.m,a.m,[]),e.mb(1073742336,i,i,[]),e.mb(256,e.L,!0,[])])}));Object(e.F)(),p.h().bootstrapModuleFactory(O).catch((function(n){return console.error(n)}))},zn8P:function(n,l){function u(n){return Promise.resolve().then((function(){var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}))}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id="zn8P"}},[[0,0,5]]]);